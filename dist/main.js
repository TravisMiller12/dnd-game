(()=>{const t=new class{constructor(t,e,h,a){this.name=t,this.health=e,this.strength=h,this.armourClass=a}mageAttack(){let t=Math.floor(6*Math.random())+1+this.strength;return console.log("Merlin has attacked with "+t+" ."),t}}("Merlin",50,1,10),e=new class{constructor(t,e,h,a,o){this.name=t,this.health=e,this.strength=h,this.armourClass=a,this.rageThreshold=o,this.rage=0}warriorAttack(){if(this.rage<this.rageThreshold){let t=Math.floor(4*Math.random())+1+this.strength;return console.log(this.name+" has attacked with "+t+" damage! Rage increases to "+this.rage+"."),this.rage++,t}if(this.rage>=this.rageThreshold){let t=Math.floor(4*Math.random())+1+this.strength+(Math.floor(4*Math.random())+1+this.strength);return console.log(this.name+" has attacked with "+t+" damage! Rage resets."),this.rage=0,t}console.log(this.rageThreshold)}}("Arthur",50,2,12,10,0);function h(t){return Math.floor(20*Math.random())+1}let a,o;do{a=h(),o=h(),console.log("Merlin rolls a "+a+"."),console.log("Arthur rolls a "+o+"."),a===o&&console.log("It's a tie! Rolling again...\n")}while(a===o);let s=a>o;for(console.log((s?"Merlin":"Arthur")+" goes first!\n");t.health>0&&e.health>0;)if(s){let h=Math.floor(20*Math.random())+1;if(console.log("Merlin rolls a "+h+" to hit."),h>=e.armourClass){let h=t.mageAttack();e.health-=h,console.log("Arthur has "+e.health+" health.")}else console.log("Merlin's attack misses!");s=!1}else{let h=Math.floor(20*Math.random())+1;if(console.log("Arthur rolls a "+h+" to hit."),h>=t.armourClass){let h=e.warriorAttack();t.health-=h,console.log("Merlin has "+t.health+" health.")}else console.log("Arthur's attack misses!");s=!0}t.health<=0?console.log("Merlin has died. Arthur is the winner!"):e.health<=0&&console.log("Arthur has died. Merlin is the winner!")})();